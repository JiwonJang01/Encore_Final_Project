<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>J의 여행일정</title>
<style>
      #map-container {
            width: 60%; /* 지도의 컨테이너 너비를 80%로 설정하여 양옆에 여백을 줍니다 */
            margin: 120px auto; /* 홈페이지 위쪽에서 50px 떨어지도록 설정하고, 가운데 정렬 */
        }
        #map {
            width: 100%; /* 지도의 너비를 컨테이너의 100%로 설정 */
            height: 400px;
        }
    </style>
</head>
<body>
    <div id="map-container">
        <div id="map"></div>
    </div>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey="></script>
<script>
var mapContainer = document.getElementById('map'), // 지도를 표시할 div
    mapOption = {
        center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
        level: 3 // 지도의 확대 레벨
    };

var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

// 일반 지도와 스카이뷰로 지도 타입을 전환할 수 있는 지도타입 컨트롤을 생성합니다
var mapTypeControl = new kakao.maps.MapTypeControl();

// 지도에 컨트롤을 추가해야 지도위에 표시됩니다
// kakao.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다
map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);

// 지도 확대 축소를 제어할 수 있는  줌 컨트롤을 생성합니다
var zoomControl = new kakao.maps.ZoomControl();
map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
</script>
</body>
</html>


<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location Selector</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
    /* backdrop의 초기 설정 */
    .custom-backdrop {
        background-color: rgba(123, 31, 162, 0.7) !important;
    }
</style>
</head>
<body>
    <div class="col-md-6 d-flex justify-content-center align-items-center">
        <h3>지역 선택</h3>
    </div>
    <div class="col-md-6 d-flex justify-content-center align-items-center">
        <button type="button" class="btn text-white" style="background-color: #935d8c;" data-toggle="modal" data-target="#locationModal">
            Select Location
        </button>
    </div>



        <!-- Modal -->
        <div class="modal fade" id="locationModal" tabindex="-1" aria-labelledby="locationModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="locationModalLabel">Select Location</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="provinceSelect">광역시/도</label>
                                <select id="provinceSelect" class="form-control" onchange="fetchCities()">
                                    <option value="">select</option>
                                    {% for Areacode  in Areacodes %}
                                    <option value="{{ Areacode.code }}">{{ Areacode.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="citySelect">시/군/구</label>
                                <select id="citySelect" class="form-control">
                                    {% for citydistrict  in citydistricts %}
                                    <option value="{{ citydistrict.code }}">{{ citydistrict.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn text-white" style="background-color: #935d8c;" data-dismiss="modal">Close</button>
                        <button type="button" class="btn text-white" style="background-color: #935d8c;" data-dismiss="modal" onclick="saveLocation()">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- jQuery --><script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        var selectedCity = ''; // 선택된 도시 코드
        var selectedCategory3 = ''; // 선택된 소분류 코드
        var selectedProvince = ''; // 선택된 광역시/도 코드

        function fetchCities() {
        var AreaCode = document.getElementById('provinceSelect').value;
        var citydistrictSelect = document.getElementById('citySelect');
        citydistrictSelect.innerHTML = '<option value="">select</option>'; // 초기화

    $.ajax({
            url: '/citydistrict/',
            type: 'GET',
            data: {
                'areacode': AreaCode
            },
            success: function(data) {
                data.citydistricts.forEach(function(city) {
                    var option = document.createElement('option');
                    option.value = city.code;
                    option.textContent = city.name;
                    citydistrictSelect.appendChild(option);
                });
            },
            error: function(xhr, status, error) {
                console.error('Error fetching citydistrict:', error);
            }
        });
     }

     function saveLocation() {
        selectedProvince = document.getElementById('provinceSelect').value;
        selectedCity = document.getElementById('citySelect').value;
        //$('#locationModal').modal('hide');
        if (selectedProvince && selectedCity) {
            fetchPlaces();
        }
    }
        $(document).ready(function() {
        $('#locationModal').on('show.bs.modal', function () {
            $('.modal-backdrop').addClass('custom-backdrop'); // backdrop에 custom-backdrop 클래스 추가
        });

        $('#locationModal').on('hidden.bs.modal', function () {
            $('.modal-backdrop').removeClass('custom-backdrop'); // backdrop에서 custom-backdrop 클래스 제거
        });
    });
    </script>
</body>
</html>

<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modal Example</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
    /* backdrop의 초기 설정 */
    .custom-backdrop {
        background-color: rgba(123, 31, 162, 0.7) !important;
    }
</style>
  <!-- jQuery --><script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <!-- Bootstrap JS -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="col-md-6 d-flex justify-content-center align-items-center mt-4">
  <h3>카테고리 선택</h3>
</div>
<div class="col-md-6 d-flex justify-content-center align-items-center">
  <button type="button" class="btn text-white" style="background-color: #935d8c;" data-toggle="modal" data-target="#categoryModal">
    Select Categories
  </button>
</div>

<!-- Modal -->
<div class="modal fade" id="categoryModal" tabindex="-1" role="dialog" aria-labelledby="categoryModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="categoryModalLabel">select category</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="categoryForm" method="GET" action="{% url 'get_data' %}">
          <div class="form-group">
            <label for="selectCategory1">대분류</label>
            <select class="form-control" id="selectCategory1", name="cat1_code" onchange="fetchMiddleCategories()">
              <option value="">select</option>
                {% for largecategory in largecategories %}
                <option value="{{ largecategory.code }}">{{ largecategory.name }}</option>
                {% endfor %}
            </select>
          </div>
          <div class="form-group">
            <label for="selectCategory2">중분류</label>
            <select class="form-control" id="selectCategory2", name="cat2_code" onchange="fetchSmallCategories()">
              <option value="">select</option>
                {% for middlecategory  in middlecategories %}
                <option value="{{ middlecategory.code }}">{{ middlecategory.name }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group">
            <label for="selectCategory3">소분류</label>
            <select class="form-control" id="selectCategory3">
              <option value="">select</option>
                {% for smallcategory  in smallcategories %}
                <option value="{{ smallcategory.code }}">{{ samllcategory.name }}</option>
              {% endfor %}
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn text-white" style="background-color: #935d8c;" data-dismiss="modal">Close</button>
        <button type="button" class="btn text-white" style="background-color: #935d8c;" data-dismiss="modal" onclick="saveCategory()">Save changes</button>
      </div>
    </div>
  </div>
</div>

<script>
function fetchMiddleCategories() {
    var largeCategory = document.getElementById('selectCategory1').value;
    var middleCategorySelect = document.getElementById('selectCategory2');
    middleCategorySelect.innerHTML = '<option value="">select</option>'; // 초기화

$.ajax({
        url: '/middlecategory/',
        type: 'GET',
        data: {
            'cat1_code': largeCategory
        },
        success: function(data) {
            data.middlecategories.forEach(function(category) {
                var option = document.createElement('option');
                option.value = category.code;
                option.textContent = category.name;
                middleCategorySelect.appendChild(option);
            });
        },
        error: function(xhr, status, error) {
            console.error('Error fetching middle categories:', error);
        }
    });
 }

function fetchSmallCategories() {
    var middleCategory = document.getElementById('selectCategory2').value;
    var smallCategorySelect = document.getElementById('selectCategory3');
    smallCategorySelect.innerHTML = '<option value="">select</option>'; // 초기화

$.ajax({
        url: '/smallcategory/',
        type: 'GET',
        data: {
            'cat2_code': middleCategory
        },
        success: function(data) {
            data.smallcategories.forEach(function(category) {
                var option = document.createElement('option');
                option.value = category.code;
                option.textContent = category.name;
                smallCategorySelect.appendChild(option);
            });
        },
        error: function(xhr, status, error) {
            console.error('Error fetching middle categories:', error);
        }
    });
 }

    function saveCategory() {
    selectedCategory1 = document.getElementById('selectCategory1').value;
    selectedCategory2 = document.getElementById('selectCategory2').value;
    selectedCategory3 = document.getElementById('selectCategory3').value;
    if (selectedProvince && selectedCity && selectedCategory3) {
        fetchPlaces();
    }
}

function fetchPlaces() {
    var $placeList = $('#place');
    $placeList.empty(); // 기존의 리스트를 비웁니다

    if (selectedProvince && selectedCity && selectedCategory3) {
        $.ajax({
            url: '/place/',
            type: 'GET',
            data: {
                'area_code': selectedProvince,
                'city_code': selectedCity,
                'category_code': selectedCategory3
            },
            success: function(data) {
                // 데이터가 성공적으로 도착하면, <ul> 리스트를 업데이트합니다
                $.each(data.places, function(index, place) {
                    var $li = $('<li></li>')
                        .addClass('list-group-item place-item')
                        .attr('data-place-id', index + 1)
                        .text(place.title); // place 객체의 title 속성에 접근합니다
                    $placeList.append($li);
                });
                // 항목 클릭 시 selected 클래스 토글
                $placeList.on('click', '.place-item', function() {
                    $(this).toggleClass('selected');
                    var placeId = $(this).data('place-id');
                    if ($(this).hasClass('selected')) {
                        selectedPlaces.push(placeId);
                    } else {
                        var index = selectedPlaces.indexOf(placeId);
                        if (index > -1) {
                            selectedPlaces.splice(index, 1);
                        }
                    }
                });
            },
            error: function(xhr, status, error) {
                console.error('Error fetching places:', error);
            }
        });
    }
}
    $(document).ready(function() {
        $('#categoryModal').on('show.bs.modal', function () {
            $('.modal-backdrop').addClass('custom-backdrop'); // backdrop에 custom-backdrop 클래스 추가
        });

        $('#categoryModal').on('hidden.bs.modal', function () {
            $('.modal-backdrop').removeClass('custom-backdrop'); // backdrop에서 custom-backdrop 클래스 제거
        });
    });
</script>

</body>
</html>

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .place-item {
            cursor: pointer;
        }
        .place-item.selected {
            font-weight: bold;
            background-color: #f0f0f0;
        }
        .day-btn {
            margin-right: 5px;
        }
        .day-section {
            display: none;
        }
        .day-section.active {
            display: block;
        }
        .container {
            display: flex;
        }
        .places {
            flex: 1;
        }
        .day-selection {
           flex: 3;
        }
        .center-text {
        text-align: center;
    }
    </style>
</head>
<div class="container">
    <div class="row">
        <div class = "col">
            <div class="col-md-6 mt-5">
                <div class="card" style="width: 400px; height: 400px; background-color: #935d8c;">
                    <div class="card-body">
                        <h3 class="card-title text-center text-white">Place List</h3>
                        <div class="card-text" style="max-height: 300px; overflow-y: auto;">
                            <ul id="place" class="list-group">
                                <!-- 여기에 리스트 아이템들 추가 -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col mt-3">
                <button id="addBtn" class="btn text-white float-right" style="background-color: #935d8c;">추가</button>
            </div>
        </div>
    </div>
            <div class = "col">
                <div class="col-md-6 mt-5 align-items-center">
                <div class="card" style="width: 400px; height: 400px; background-color: #935d8c;" >
                    <div class="card-body">
                        <div class="btn-group d-flex justify-content-center" role="group" aria-label="일차 선택">
                            <button type="button" class="btn btn-outline-primary day-btn" style="border-color: white; color: white;" data-day="1">1일차</button>
                            <button type="button" class="btn btn-outline-primary day-btn" style="border-color: white; color: white;" data-day="2">2일차</button>
                            <button type="button" class="btn btn-outline-primary day-btn" style="border-color: white; color: white;" data-day="3">3일차</button>
                        </div>
                        <div id="day-sections" class="mt-4">
                    <!-- 각 일차별 선택한 장소 섹션은 여기에 추가됩니다. -->
                    <div id="day1" class="day-section active mt-4 text-white">
                        <h4>Day 1</h4>
                        <ul id="selectedPlaces1" class="list-group">
                            <!-- 선택한 장소 목록 -->
                        </ul>
                    </div>

                    <div id="day2" class="day-section mt-4 text-white">
                        <h4>Day 2</h4>
                        <ul id="selectedPlaces2" class="list-group">
                            <!-- 선택한 장소 목록 -->
                        </ul>
                    </div>

                    <div id="day3" class="day-section mt-4 text-white">
                        <h4>Day 3</h4>
                        <ul id="selectedPlaces3" class="list-group">
                            <!-- 선택한 장소 목록 -->
                        </ul>
                    </div>
                    </div>
                </div>
                </div>
                    <button id="addDayBtn" class="btn btn-secondary mt-3">날짜 추가</button>
                <button class="btn btn-danger" id="deleteActiveDayBtn">삭제</button>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    var selectedPlaces = [];
    var dayCount = $('.day-btn').length; // 현재 일차 수 추적

    // 장소 항목 클릭 이벤트
    $('.place-item').click(function() {
        $(this).toggleClass('selected');
        var placeId = $(this).data('place-id');
        if ($(this).hasClass('selected')) {
            selectedPlaces.push(placeId);
        } else {
            var index = selectedPlaces.indexOf(placeId);
            if (index > -1) {
                selectedPlaces.splice(index, 1);
            }
        }
    });

    // 일차 선택 버튼 클릭 이벤트
    $(document).on('click', '.day-btn', function() {
        var day = $(this).data('day');
        $('.day-section').removeClass('active');
        $('#day' + day).addClass('active');
        $('.day-btn').removeClass('active');
        $(this).addClass('active');
    });

    // 추가 버튼 클릭 이벤트
    $('#addBtn').click(function() {
        var day = $('.day-btn.active').data('day');
        var selectedPlacesList = $('#selectedPlaces' + day);
        selectedPlaces.forEach(function(placeId) {
            var placeItem = $('.place-item[data-place-id="' + placeId + '"]').text();
            selectedPlacesList.append('<li class="list-group-item" style="background-color: #935d8c;">' + placeItem + '</li>');
        });
        selectedPlaces = [];
        $('.place-item').removeClass('selected');
    });

    // 날짜 추가 버튼 클릭 이벤트
    $('#addDayBtn').click(function() {
        dayCount++;
        var newDayBtn = $('<button type="button" class="btn btn-outline-primary day-btn" data-day="' + dayCount + '">' + dayCount + '일차</button>');
        $('.btn-group').append(newDayBtn);

        var newDaySection = $(
            '<div id="day' + dayCount + '" class="day-section">' +
                '<h4 class="day-title">' + dayCount + '일차 선택한 장소</h4>' +
                '<ul id="selectedPlaces' + dayCount + '" class="list-group"></ul>' +
            '</div>'
        );
        $('#day-sections').append(newDaySection);

        // 일차 버튼 클릭 이벤트 재할당

        newDayBtn.click(function() {
            var day = $(this).data('day');
            $('.day-section').removeClass('active');
            $('#day' + day).addClass('active');
            $('.day-btn').removeClass('active');
            $(this).addClass('active');
        });

    });

    // 삭제 버튼 클릭 이벤트

// 삭제 버튼 클릭 이벤트
    $('#deleteActiveDayBtn').click(function() {
        var activeDay = $('.day-btn.active').data('day'); // 현재 active 클래스를 가진 버튼의 data-day 값을 가져옴
        if (activeDay) {
            var confirmDelete = confirm(activeDay + '일차를 삭제하시겠습니까?');
            if (confirmDelete) {
                $('#day' + activeDay).remove(); // 해당 일차 섹션을 삭제
                $('.day-btn[data-day="' + activeDay + '"]').remove(); // 해당 일차 버튼을 삭제

                // 삭제된 일차 이후의 일차 번호를 조정하고 선택한 장소 리스트 섹션 제목 업데이트
                for (var i = activeDay + 1; i <= dayCount; i++) {
                    var $daySection = $('#day' + i);
                    var $selectedPlaces = $('#selectedPlaces' + i);

                    $daySection.attr('id', 'day' + (i - 1)); // 일차 섹션의 ID 변경
                    $selectedPlaces.attr('id', 'selectedPlaces' + (i - 1)); // 선택한 장소 리스트의 ID 변경

                    $('.day-btn[data-day="' + i + '"]').attr('data-day', i - 1).text((i - 1) + '일차'); // 일차 버튼의 데이터 및 텍스트 변경
                    $daySection.find('.day-title').text((i - 1) + '일차 선택한 장소'); // 선택한 장소 리스트 섹션 제목 변경
                }
                dayCount--;

                // 삭제된 일차가 현재 활성화된 상태였다면, 첫 번째 일차를 활성화 상태로 변경
                if ($('#day' + activeDay).hasClass('active')) {
                    $('.day-btn[data-day="1"]').addClass('active');
                    $('#day1').addClass('active');
                }
            }
        } else {
            alert('삭제할 일차를 선택해주세요.');
        }




    });
</script>
</body>
</html>

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kakao API 주소 검색 모달</title>
    <!-- 부트스트랩 CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- 부트스트랩 JavaScript 및 jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        #addressResults {
            max-height: 400px; /* 원하는 높이로 조정 가능 */
            overflow-y: auto;
        }
        .selected-place {
            background-color: #d3d3d3;
        }
    </style>
</head>
<body>

<!-- 장소 추가 버튼 -->
<button type="button" id="openModalButton" class="btn btn-primary">장소 추가</button>

<!-- 모달 -->
<div class="modal" id="addressModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <!-- 모달 헤더 -->
            <div class="modal-header">
                <h5 class="modal-title">주소 검색</h5>
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!-- 모달 바디 -->
            <div class="modal-body">
                <div class="input-group">
                    <input type="text" id="addressInput" class="form-control" placeholder="주소를 입력하세요">
                    <div class="input-group-append">
                        <button type="button" id="searchButton" class="btn btn-primary">검색</button>
                    </div>
                </div>
                <div id="addressResults" class="overflow-auto mt-3"></div>
            </div>
            <!-- 모달 푸터 -->
            <div class="modal-footer">
                <button type="button" id="addSelectedPlaceButton" class="btn btn-success">추가</button>
            </div>
        </div>
    </div>
</div>

<script>
    // Kakao API 키
    const kakaoApiKey = '1ca1474a66a4cd0fdd5d9e5a9e020070';
    let selectedPlaces2 = []; // 선택한 장소를 저장할 배열
    let selectedPlace = null; // 선택된 장소를 저장할 변수

    // 장소 추가 버튼 클릭 이벤트 처리
    document.getElementById('openModalButton').addEventListener('click', function() {
        // 모달 표시
        $('#addressModal').modal('show');
    });

    // 모달이 닫힐 때 초기화
    $('#addressModal').on('hidden.bs.modal', function () {
        $('#addressInput').val('');
        $('#addressResults').empty();
        selectedPlace = null; // 선택된 장소 초기화
    });

    // 검색 버튼 클릭 이벤트 처리
    document.getElementById('searchButton').addEventListener('click', function() {
        const addressInput = document.getElementById('addressInput').value;

        // Kakao API 호출 URL
        const apiUrl = `https://dapi.kakao.com/v2/local/search/keyword.json?query=${encodeURIComponent(addressInput)}`;

        // Ajax 요청
        fetch(apiUrl, {
            headers: {
                'Authorization': `KakaoAK ${kakaoApiKey}`
            }
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Kakao API 요청에 실패했습니다.');
            }
            return response.json();
        })
        .then(data => {
            // 검색 결과를 처리하는 로직
            const resultsDiv = document.getElementById('addressResults');
            resultsDiv.innerHTML = ''; // 기존 결과 초기화

            if (data.documents && data.documents.length > 0) {
                data.documents.forEach(item => {
                    const address = item.road_address_name || item.address_name || '주소 정보 없음';
                    const placeName = item.place_name || '장소 이름 없음';
                    const resultElement = document.createElement('div');
                    resultElement.className = 'd-flex justify-content-between align-items-center border p-2';
                    resultElement.innerHTML = `
                        <span class="place-info">[${placeName}] ${address}</span>
                    `;
                    resultElement.addEventListener('click', function() {
                        selectPlace(placeName, address, resultElement);
                    });
                    resultsDiv.appendChild(resultElement);
                });
            } else {
                resultsDiv.textContent = '검색 결과가 없습니다.';
            }
        })
        .catch(error => {
            console.error('주소 검색 중 오류가 발생했습니다.', error);
            const resultsDiv = document.getElementById('addressResults');
            resultsDiv.textContent = '주소 검색 중 오류가 발생했습니다.';
        });
    });

    function selectPlace(placeName, address, element) {
        const previouslySelected = document.querySelector('.selected-place');
        if (previouslySelected) {
            previouslySelected.classList.remove('selected-place');
        }
        element.classList.add('selected-place');
        selectedPlace = { placeName, address };
    }

    document.getElementById('addSelectedPlaceButton').addEventListener('click', function() {
        if (selectedPlace) {
            addPlace(selectedPlace.placeName);
        } else {
            alert('장소를 선택해주세요.');
        }
    });

    function addPlace(placeName) {
    var day = $('.day-btn.active').data('day'); // 현재 선택된 일차를 가져옴
    var $placeList = $('#selectedPlaces' + day); // 현재 선택된 일차의 리스트를 가져옴

    var $li = $('<li></li>')
        .addClass('list-group-item place-item')
        .attr('data-place-id', selectedPlaces2.length + 1)
        .text(placeName);
    $placeList.append($li);

    // 선택한 장소를 배열에 추가
    selectedPlaces2.push(selectedPlaces2.length + 1);

        // 모달을 닫음
        $('#addressModal').modal('hide');
    }
</script>

</body>
</html>
